!function(t){var e={version:"0.2.0"},i={rclass:/[\t\r\n\f]/g,rnotwhite:/\S/,nospaces:/^\S*$/},n=e.SelectorObject=function(t){var e=Object.create(Array.prototype);e=Array.apply(e);for(var i in n.prototype)n.prototype.hasOwnProperty(i)&&(e[i]=n.prototype[i]);for(var s=0;s<t.length;s++)e[s]=t[s];return e.isSelectorObject=!0,e};n.prototype={constructor:n,find:function(t){for(var e,i,s=[],r=0;r<this.length;r++){e=this[r].querySelectorAll(t);for(var o=0;o<e.length;o++)i=e[o],i&&s.indexOf(i)<0&&s.push(i);o=0}return new n(s)},filter:function(t){for(var e,i=[],s=0;s<this.length;s++)e=this[s],e.matches(t)&&i.push(e);return new n(i)},first:function(){var t=this[0]?[this[0]]:[];return new n(t)},last:function(){var t=this[this.length-1]?[this[this.length-1]]:[];return new n(t)},parent:function(){for(var t,e=[],i=0;i<this.length;i++)t=this[i].parentNode,e.indexOf(t)<0&&e.push(t);return new n(e)},children:function(t){for(var e,i,s=[],r=0;r<this.length;r++){e=this[r].children;for(var o=0;o<e.length;o++)i=e[o],i&&s.indexOf(i)<0&&(!t||i.matches(t))&&s.push(i);o=0}return new n(s)},remove:function(){for(var t=0;t<this.length;t++)this[t].parentElement.removeChild(this[t]);return new n([])},addClass:function(){for(var t=0;t<this.length;t++)this[t].classList.add.apply(this[t].classList,arguments);return this},removeClass:function(t){var e,n=t&&"string"==typeof t,s=i.nospaces.test(t);if(n&&s)for(var r=0;r<this.length;r++)e=this[r],this.Elm.classList.contains(t)&&this[r].classList.remove(t);return this},toggleClass:function(t){var e=t&&"string"==typeof t,n=i.nospaces.test(t);if(e&&n)for(var s=0;s<this.length;s++)this[s].classList.toggle(t);return this},hasClass:function(t){var e=t&&"string"==typeof t,n=i.nospaces.test(t);if(!e||!n)return!1;for(var s=0;s<this.length;s++)if(this[s].classList.contains(t))return!0;return!1},before:function(t){return this._html(t,"beforebegin",t.isSelectorObject)},after:function(t){return this._html(t,"afterend",t.isSelectorObject)},append:function(t){return this._html(t,"beforeend",t.isSelectorObject)},prepend:function(t){return this._html(t,"afterbegin",t.isSelectorObject)},html:function(t){return this._html(t,"replace",t.isSelectorObject)},_html:function(t,e,i){for(var n,s,r=0;r<this.length;r++)if(n=this[r],i){for(var o=0;o<t.length;o++)s=t[o],"replace"!==e?n.insertAdjacentHTML(e,s.outerHTML):n.innerHTML=s.outerHTML;o=0}else"replace"!==e?n.insertAdjacentHTML(e,t.outerHTML?t.outerHTML:t):n.innerHTML=t.outerHTML?t.outerHTML:t;return this}},e.onDOMReady=function(t,e,i){e||(e=[]),i||(i=this),func=function(){t.apply(i,e)},"loading"!=document.readyState?func():document.addEventListener("DOMContentLoaded",func)};var s=e.Application=function(t){this.views=[]};s.prototype={getView:function(t){for(var e in this.views)if(this.views[e].id===t)return this.views[e]},addView:function(t){t instanceof o&&this.views.push(t)},removeView:function(t){for(var e,i=0;i<this.views.length;i+=0)e=this.views[i],e.id===t&&this.views.splice(i,1)},trigger:function(t,e){for(var i,n=0;n<this.views.length;n+=1)i=this.views[n],i.trigger(t,e)}};var r=e.Model=function(t){var e=t||{};for(var i in e)this[i]=e[i];this.id||(this.id="m"+Math.floor(1e5*Math.random()+1)),this._events||(this._events={}),this.data||(this.data={}),this.url||(this.url=""),this._init(t)};r.prototype={onDOMReady:e.onDOMReady,_init:function(t){this.initialize(t)},_ajax:function(t){var e=this,i=new XMLHttpRequest;t||(t={}),t.url||(t.url=this.url),t.type||(t.type="GET"),t.success||(t.success=function(t){this.data=t}),t.error||(t.error=function(){}),i.open(t.type,t.url,!0),i.onload=function(){if(i.status>=200&&i.status<400){var n=JSON.parse(i.responseText);t.success.call(e,n)}else t.error.call(e,i.status)},i.onerror=function(){t.error.call(this)},i.send()},initialize:function(t){},get:function(t){return t?this.data?this.data[t]:void 0:this.data},set:function(t,e){"string"==typeof t?this.data[t]=e:"object"==typeof t&&(this.data=t),this.trigger("change",this.data)},unSet:function(t){this.data&&this.data[t]&&(delete this.data[t],this.trigger("change",this.data))},clear:function(){this.data={},this.trigger("change",this.data)},on:function(t,e,i){i||(i=this),this._events[t]={callback:e,ctx:i}},sync:function(t){this._ajax(t)},trigger:function(t,e){var i=this._events[t];i&&i.callback.call(i.ctx,e)}};var o=e.View=function(t){var i=t||{};for(var n in i)this[n]=i[n];this.id||(this.id="v"+Math.floor(1e5*Math.random()+1)),this.app&&this.app.addView(this),this._events||(this._events={}),this.events||(this.events={}),e.onDOMReady(this._init,t,this)};o.prototype={_setElement:function(e){if(e.isSelectorObject)this.el=e;else if(e instanceof NodeList)this.el=new n(e);else if("string"==typeof e)this.el=new n(t.document.querySelectorAll(e));else{if(!(e instanceof HTMLElement))throw"el selector must be of type String, NodeList, HTMLElement or Ity.SelectorObject";this.el=new n([HTMLElement])}},_bindDOMEvents:function(t){var e;for(evtString in t)if(this.el&&this.el.length>0&&this.el.isSelectorObject)for(var i=0;i<this.el.length;i+=1)e=this.el[i].querySelectorAll(evtString),this._bindNodeElmsEvents(e,t,evtString)},_bindNodeElmsEvents:function(t,e,i){for(var n=0;n<t.length;n+=1)for(var s in e[i])this._bindElmEvent(t[n],s,this[e[i][s]])},_bindElmEvent:function(t,e,i){var n=this;t.addEventListener(e,function(t){i.call(n,t)})},_init:function(t){this.el&&this._setElement(this.el),this._bindDOMEvents(this.events),this.initialize(t)},initialize:function(t){},getName:function(){return this.name},get:function(t){return this[t]},set:function(t,e){this[t]=e},on:function(t,e,i){i||(i=this),this._events[t]={callback:e,ctx:i}},remove:function(){this.el.remove(),this.app&&this.app.removeView(this.id)},trigger:function(t,e){var i=this._events[t];i&&i.callback.call(i.ctx,e)},select:function(t,e){var e=e||this.el;if(e instanceof HTMLElement||e instanceof HTMLDocument)return new n(e.querySelectorAll(t));if(e.isSelectorObject)return e.find(t);throw"Context passed to .select() must be an HTMLElement or an Ity.SelectorObject"}},"function"==typeof define&&define.amd?define(function(){return t.Ity=e,e}):t.Ity=e}(window);
//# sourceMappingURL=ity.min.js.map