{"version":3,"sources":["ity.js"],"names":["window","Ity","version","regexps","rclass","rnotwhite","nospaces","SelectorObject","nodeList","selectorObject","Object","create","Array","prototype","apply","prop","hasOwnProperty","i","length","isSelectorObject","constructor","find","selector","thisNodeList","thisNode","this","querySelectorAll","j","indexOf","push","filter","matches","first","last","parent","parentNode","children","thisNodeChildren","remove","parentElement","removeChild","addClass","value","isString","isNotSpace","test","classList","add","removeClass","thisElm","Elm","contains","hasClass","before","content","_html","after","append","prepend","html","position","selectorNode","insertAdjacentHTML","outerHTML","innerHTML","onDOMReady","fn","args","context","func","document","readyState","addEventListener","Application","opts","views","getView","id","view","addView","View","removeView","thisView","splice","trigger","evtName","data","Model","options","option","Math","floor","random","_events","url","_init","initialize","_ajax","model","request","XMLHttpRequest","type","success","resp","error","open","onload","status","JSON","parse","responseText","call","onerror","send","get","attr","undefined","set","unSet","clear","on","callback","ctx","sync","evt","app","events","_setElement","elSelector","el","NodeList","HTMLElement","_bindDOMEvents","evtObj","elmToBind","evtString","_bindNodeElmsEvents","node","idx","_bindElmEvent","elm","DOMEvent","self","e","getName","name","select","HTMLDocument","define","amd"],"mappings":"CAIC,SAAUA,GAEV,GAAIC,IACHC,QAAS,SAGNC,GACHC,OAAQ,cACRC,UAAW,KACXC,SAAU,SAGPC,EAAiBN,EAAIM,eAAiB,SAASC,GAElD,GAAIC,GAAiBC,OAAOC,OAAOC,MAAMC,UAEzCJ,GAAiBG,MAAME,MAAML,EAE7B,KAAK,GAAIM,KAAQR,GAAeM,UAC3BN,EAAeM,UAAUG,eAAeD,KAC3CN,EAAeM,GAAQR,EAAeM,UAAUE,GAIlD,KAAM,GAAIE,GAAI,EAAGA,EAAIT,EAASU,OAAQD,IACrCR,EAAeQ,GAAKT,EAASS,EAO9B,OAHAR,GAAeU,kBAAmB,EAG3BV,EAIRF,GAAeM,WACdO,YAAab,EACbc,KAAM,SAASC,GAId,IAAM,GAFLC,GAAcC,EADXhB,KAGMS,EAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAAM,CACvCM,EAAeE,KAAKR,GAAGS,iBAAiBJ,EAExC,KAAM,GAAIK,GAAI,EAAGA,EAAIJ,EAAaL,OAAQS,IACzCH,EAAWD,EAAaI,GAEpBH,GAAYhB,EAASoB,QAAQJ,GAAY,GAC5ChB,EAASqB,KAAKL,EAIhBG,GAAI,EAGL,MAAO,IAAIpB,GAAeC,IAG3BsB,OAAQ,SAASR,GAIhB,IAAK,GAFJE,GADGhB,KAGKS,EAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAChCO,EAAWC,KAAKR,GAEZO,EAASO,QAAQT,IACpBd,EAASqB,KAAKL,EAIhB,OAAO,IAAIjB,GAAeC,IAG3BwB,MAAO,WACN,GAAIxB,GAAYiB,KAAK,IAAOA,KAAK,MAEjC,OAAO,IAAIlB,GAAeC,IAG3ByB,KAAM,WACL,GAAIzB,GAAYiB,KAAKA,KAAKP,OAAS,IAAOO,KAAKA,KAAKP,OAAS,MAE7D,OAAO,IAAIX,GAAeC,IAG3B0B,OAAQ,WAIP,IAAM,GAFLV,GADGhB,KAGMS,EAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IACjCO,EAAWC,KAAKR,GAAGkB,WAEf3B,EAASoB,QAAQJ,GAAY,GAChChB,EAASqB,KAAKL,EAIhB,OAAO,IAAIjB,GAAeC,IAG3B4B,SAAU,SAASd,GAKlB,IAAM,GAHLe,GACAb,EAFGhB,KAIMS,EAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAAM,CACvCoB,EAAmBZ,KAAKR,GAAGmB,QAE3B,KAAM,GAAIT,GAAI,EAAGA,EAAIU,EAAiBnB,OAAQS,IAC7CH,EAAWa,EAAiBV,GAExBH,GAAYhB,EAASoB,QAAQJ,GAAY,KACvCF,GAAYE,EAASO,QAAQT,KAClCd,EAASqB,KAAKL,EAIhBG,GAAI,EAIL,MAAO,IAAIpB,GAAeC,IAG3B8B,OAAQ,WACP,IAAM,GAAIrB,GAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IACjCQ,KAAKR,GAAGsB,cAAcC,YAAYf,KAAKR,GAGxC,OAAO,IAAIV,QAGZkC,SAAU,SAASC,GAClB,GAAIC,GAAYD,GAA0B,gBAAVA,GAC5BE,EAAazC,EAAQG,SAASuC,KAAKH,EAEvC,IAAIC,GAAYC,EACf,IAAK,GAAI3B,GAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAChCQ,KAAKR,GAAG6B,UAAUC,IAAIL,EAIxB,OAAOjB,OAGRuB,YAAa,SAASN,GACrB,GAEIO,GAFAN,EAAYD,GAA0B,gBAAVA,GAC5BE,EAAazC,EAAQG,SAASuC,KAAKH,EAGvC,IAAIC,GAAYC,EACf,IAAK,GAAI3B,GAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAChCgC,EAAUxB,KAAKR,GACXQ,KAAKyB,IAAIJ,UAAUK,SAAST,IAC/BjB,KAAKR,GAAG6B,UAAUR,OAAOI,EAK5B,OAAOjB,OAGR2B,SAAU,SAASV,GAClB,GAAIC,GAAYD,GAA0B,gBAAVA,GAC5BE,EAAazC,EAAQG,SAASuC,KAAKH,EAEvC,KAAKC,IAAaC,EAAc,OAAO,CAEvC,KAAK,GAAI3B,GAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAChC,GAAIQ,KAAKR,GAAG6B,UAAUK,SAAST,GAC9B,OAAO,CAIT,QAAO,GAGRW,OAAQ,SAASC,GAChB,MAAO7B,MAAK8B,MAAMD,EAAS,cAAeA,EAAQnC,mBAGnDqC,MAAO,SAASF,GACf,MAAO7B,MAAK8B,MAAMD,EAAS,WAAYA,EAAQnC,mBAGhDsC,OAAQ,SAASH,GAChB,MAAO7B,MAAK8B,MAAMD,EAAS,YAAaA,EAAQnC,mBAGjDuC,QAAS,SAASJ,GACjB,MAAO7B,MAAK8B,MAAMD,EAAS,aAAcA,EAAQnC,mBAGlDwC,KAAM,SAASL,GACd,MAAO7B,MAAK8B,MAAMD,EAAS,UAAWA,EAAQnC,mBAG/CoC,MAAO,SAASD,EAASM,EAAUzC,GAIlC,IAAM,GAFLK,GAAUqC,EAED5C,EAAI,EAAGA,EAAIQ,KAAKP,OAAQD,IAEjC,GADAO,EAAWC,KAAKR,GACXE,EAME,CACN,IAAM,GAAIQ,GAAI,EAAGA,EAAI2B,EAAQpC,OAAQS,IACpCkC,EAAeP,EAAQ3B,GACN,YAAbiC,EACHpC,EAASsC,mBAAmBF,EAAUC,EAAaE,WAEnDvC,EAASwC,UAAYH,EAAaE,SAIpCpC,GAAI,MAfa,YAAbiC,EACHpC,EAASsC,mBAAmBF,EAAYN,EAAiB,UAAIA,EAAQS,UAAYT,GAEjF9B,EAASwC,UAAaV,EAAiB,UAAIA,EAAQS,UAAYT,CAgBlE,OAAO7B,QAITxB,EAAIgE,WAAa,SAASC,EAAIC,EAAMC,GACnCD,IAASA,MACTC,IAAYA,EAAU3C,MAEtB4C,KAAO,WACNH,EAAGpD,MAAMsD,EAASD,IAGQ,WAAvBG,SAASC,WACZF,OAEAC,SAASE,iBAAiB,mBAAoBH,MAIhD,IAAII,GAAcxE,EAAIwE,YAAc,SAASC,GAC5CjD,KAAKkD,SAGNF,GAAY5D,WACX+D,QAAS,SAASC,GACjB,IAAK,GAAIC,KAAQrD,MAAKkD,MACrB,GAAIlD,KAAKkD,MAAMG,GAAMD,KAAOA,EAC3B,MAAOpD,MAAKkD,MAAMG,IAKrBC,QAAS,SAASD,GACbA,YAAgBE,IAAQvD,KAAKkD,MAAM9C,KAAKiD,IAG7CG,WAAY,SAASJ,GAGpB,IAAK,GAFDK,GAEKjE,EAAI,EAAGA,EAAIQ,KAAKkD,MAAMzD,OAAQD,GAAK,EAC3CiE,EAAWzD,KAAKkD,MAAM1D,GAClBiE,EAASL,KAAOA,GAClBpD,KAAKkD,MAAMQ,OAAOlE,EAAG,IAKzBmE,QAAS,SAASC,EAASC,GAG1B,IAAK,GAFDJ,GAEKjE,EAAI,EAAGA,EAAIQ,KAAKkD,MAAMzD,OAAQD,GAAK,EAC3CiE,EAAWzD,KAAKkD,MAAM1D,GACtBiE,EAASE,QAAQC,EAASC,IAK7B,IAAIC,GAAQtF,EAAIsF,MAAQ,SAASb,GAChC,GAAIc,GAAUd,KAEd,KAAK,GAAIe,KAAUD,GAClB/D,KAAKgE,GAAUD,EAAQC,EAGxBhE,MAAKoD,KAAOpD,KAAKoD,GAAK,IAAMa,KAAKC,MAAuB,IAAhBD,KAAKE,SAAqB,IAClEnE,KAAKoE,UAAYpE,KAAKoE,YACtBpE,KAAK6D,OAAS7D,KAAK6D,SACnB7D,KAAKqE,MAAQrE,KAAKqE,IAAM,IAExBrE,KAAKsE,MAAMrB,GAGZa,GAAM1E,WACLoD,WAAYhE,EAAIgE,WAEhB8B,MAAO,SAASrB,GACfjD,KAAKuE,WAAWtB,IAGjBuB,MAAO,SAASvB,GACf,GAAIwB,GAAQzE,KACR0E,EAAU,GAAIC,eAElB1B,KAASA,MACTA,EAAKoB,MAAQpB,EAAKoB,IAAMrE,KAAKqE,KAC7BpB,EAAK2B,OAAS3B,EAAK2B,KAAO,OAC1B3B,EAAK4B,UAAY5B,EAAK4B,QAAU,SAASC,GAAQ9E,KAAK6D,KAAOiB,IAC7D7B,EAAK8B,QAAU9B,EAAK8B,MAAQ,cAE5BL,EAAQM,KAAK/B,EAAK2B,KAAM3B,EAAKoB,KAAK,GAElCK,EAAQO,OAAS,WAChB,GAAIP,EAAQQ,QAAU,KAAOR,EAAQQ,OAAS,IAAK,CAClD,GAAIJ,GAAOK,KAAKC,MAAMV,EAAQW,aAC9BpC,GAAK4B,QAAQS,KAAKb,EAAOK,OAEzB7B,GAAK8B,MAAMO,KAAKb,EAAOC,EAAQQ,SAIjCR,EAAQa,QAAU,WACjBtC,EAAK8B,MAAMO,KAAKtF,OAGjB0E,EAAQc,QAGTjB,WAAY,SAASR,KAErB0B,IAAK,SAASC,GACb,MAAKA,GAGI1F,KAAS,KAAIA,KAAK6D,KAAK6B,GAAQC,OAFhC3F,KAAK6D,MAMd+B,IAAK,SAASF,EAAMzE,GAEC,gBAAX,GACRjB,KAAK6D,KAAK6B,GAAQzE,EACS,gBAAX,KAChBjB,KAAK6D,KAAO6B,GAGb1F,KAAK2D,QAAQ,SAAU3D,KAAK6D,OAG7BgC,MAAO,SAASH,GACX1F,KAAK6D,MAAQ7D,KAAK6D,KAAK6B,WACnB1F,MAAK6D,KAAK6B,GAEjB1F,KAAK2D,QAAQ,SAAU3D,KAAK6D,QAI9BiC,MAAO,WACN9F,KAAK6D,QACL7D,KAAK2D,QAAQ,SAAU3D,KAAK6D,OAG7BkC,GAAI,SAASnC,EAASoC,EAAUrD,GAC/BA,IAAYA,EAAU3C,MACtBA,KAAKoE,QAAQR,IACZoC,SAAUA,EACVC,IAAKtD,IAIPuD,KAAM,SAASjD,GACdjD,KAAKwE,MAAMvB,IAGZU,QAAS,SAASC,EAASC,GAC1B,GAAIsC,GAAMnG,KAAKoE,QAAQR,EACnBuC,IACHA,EAAIH,SAASV,KAAKa,EAAIF,IAAKpC,IAM9B,IAAIN,GAAO/E,EAAI+E,KAAO,SAASN,GAC9B,GAAIc,GAAUd,KAEd,KAAK,GAAIe,KAAUD,GAClB/D,KAAKgE,GAAUD,EAAQC,EAGxBhE,MAAKoD,KAAOpD,KAAKoD,GAAK,IAAMa,KAAKC,MAAuB,IAAhBD,KAAKE,SAAqB,IAC9DnE,KAAKoG,KAAOpG,KAAKoG,IAAI9C,QAAQtD,MACjCA,KAAKoE,UAAYpE,KAAKoE,YACtBpE,KAAKqG,SAAWrG,KAAKqG,WAErB7H,EAAIgE,WAAWxC,KAAKsE,MAAOrB,EAAMjD,MAIlCuD,GAAKnE,WAEJkH,YAAa,SAASC,GACrB,GAAIA,EAAW7G,iBACdM,KAAKwG,GAAKD,MACJ,IAAIA,YAAsBE,UAChCzG,KAAKwG,GAAK,GAAI1H,GAAeyH,OACvB,IAA2B,gBAAjB,GAChBvG,KAAKwG,GAAK,GAAI1H,GAAeP,EAAOsE,SAAS5C,iBAAiBsG,QACxD,CAAA,KAAIA,YAAsBG,cAGhC,KAAM,iFAFN1G,MAAKwG,GAAK,GAAI1H,IAAgB4H,gBAMhCC,eAAgB,SAASC,GACxB,GAAIC,EAEJ,KAAKC,YAAaF,GACjB,GAAI5G,KAAKwG,IAEJxG,KAAKwG,GAAG/G,OAAS,GAAKO,KAAKwG,GAAG9G,iBACjC,IAAK,GAAIF,GAAI,EAAGA,EAAIQ,KAAKwG,GAAG/G,OAAQD,GAAK,EACxCqH,EAAY7G,KAAKwG,GAAGhH,GAAGS,iBAAiB6G,WAExC9G,KAAK+G,oBAAoBF,EAAWD,EAAQE,YAOjDC,oBAAqB,SAASC,EAAMJ,EAAQE,GAC3C,IAAK,GAAIG,GAAM,EAAGA,EAAMD,EAAKvH,OAAQwH,GAAO,EAE3C,IAAK,GAAId,KAAOS,GAAOE,GACtB9G,KAAKkH,cAAcF,EAAKC,GAAMd,EAAKnG,KAAK4G,EAAOE,GAAWX,MAK7De,cAAe,SAASC,EAAKC,EAAUpB,GACtC,GAAIqB,GAAOrH,IAEXmH,GAAIpE,iBAAiBqE,EAAU,SAASE,GACvCtB,EAASV,KAAK+B,EAAMC,MAItBhD,MAAO,SAASrB,GACXjD,KAAKwG,IAAMxG,KAAKsG,YAAYtG,KAAKwG,IACrCxG,KAAK2G,eAAe3G,KAAKqG,QAEzBrG,KAAKuE,WAAWtB,IAGjBsB,WAAY,SAAStB,KAErBsE,QAAS,WACR,MAAOvH,MAAKwH,MAGb/B,IAAK,SAASC,GACb,MAAO1F,MAAK0F,IAGbE,IAAK,SAASF,EAAMzE,GACnBjB,KAAK0F,GAAQzE,GAGd8E,GAAI,SAASnC,EAASoC,EAAUrD,GAC/BA,IAAYA,EAAU3C,MACtBA,KAAKoE,QAAQR,IACZoC,SAAUA,EACVC,IAAKtD,IAIP9B,OAAQ,WACPb,KAAKwG,GAAG3F,SACJb,KAAKoG,KAAOpG,KAAKoG,IAAI5C,WAAWxD,KAAKoD,KAG1CO,QAAS,SAASC,EAASC,GAC1B,GAAIsC,GAAMnG,KAAKoE,QAAQR,EACnBuC,IAAOA,EAAIH,SAASV,KAAKa,EAAIF,IAAKpC,IAGvC4D,OAAQ,SAAU5H,EAAUoG,GAC3B,GAAIA,GAAMA,GAAOjG,KAAKwG,EAEtB,IAAIP,YAAeS,cAAeT,YAAeyB,cAChD,MAAO,IAAI5I,GAAemH,EAAIhG,iBAAiBJ,GACzC,IAAIoG,EAAIvG,iBACd,MAAOuG,GAAIrG,KAAKC,EAEhB,MAAM,gFAMa,kBAAX8H,SAAyBA,OAAOC,IAC1CD,OAAO,WAEN,MADApJ,GAAOC,IAAMA,EACNA,IAGRD,EAAOC,IAAMA,GAGZD","file":"ity.min.js","sourcesContent":["// Ity.js 0.1.2\n// (c) 2015 Dominic Cocchiarella\n// Ity may be freely distributed under the MIT license.\n\n;(function(window) {\n\n\tvar Ity = {\n\t\tversion: \"0.1.2\"\n\t}\n\n\tvar regexps = {\n\t\trclass: /[\\t\\r\\n\\f]/g,\n\t\trnotwhite: /\\S/,\n\t\tnospaces: /^\\S*$/\n\t}\n\n\tvar SelectorObject = Ity.SelectorObject = function(nodeList) {\n\n\t\tvar selectorObject = Object.create(Array.prototype);\n\n\t\tselectorObject = Array.apply(selectorObject);\n\n\t\tfor (var prop in SelectorObject.prototype){\n\t\t\tif (SelectorObject.prototype.hasOwnProperty(prop)){\n\t\t\t\tselectorObject[prop] = SelectorObject.prototype[prop];\n\t\t\t}\n\t\t}\n\n\t\tfor ( var i = 0; i < nodeList.length; i++ ) {\n\t\t\tselectorObject[i] = nodeList[i];\n\t\t}\n\n\t\t//hack to get around instanceof checks only returning false\n\t\tselectorObject.isSelectorObject = true;\n\n\t\t//now we get an Array-like interface with custom prototype methods\n\t\treturn selectorObject;\n\n\t}\n\t\t\n\tSelectorObject.prototype = {\n\t\tconstructor: SelectorObject,\n\t\tfind: function(selector) {\n\t\t\tvar nodeList = [],\n\t\t\t\tthisNodeList, thisNode;\n\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tthisNodeList = this[i].querySelectorAll(selector);\n\n\t\t\t\tfor ( var j = 0; j < thisNodeList.length; j++ ) {\n\t\t\t\t\tthisNode = thisNodeList[j];\n\n\t\t\t\t\tif (thisNode && nodeList.indexOf(thisNode) < 0) {\n\t\t\t\t\t\tnodeList.push(thisNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t}\n\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tfilter: function(selector) {\n\t\t\tvar nodeList = [],\n\t\t\t\tthisNode;\n\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tthisNode = this[i];\n\n\t\t\t\tif (thisNode.matches(selector)) {\n\t\t\t\t\tnodeList.push(thisNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tfirst: function() {\n\t\t\tvar nodeList = (this[0]) ? [this[0]] : [];\n\t\t\t\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tlast: function() {\n\t\t\tvar nodeList = (this[this.length - 1]) ? [this[this.length - 1]] : [];\n\t\t\t\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tparent: function() {\n\t\t\tvar nodeList = [],\n\t\t\t\tthisNode;\n\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tthisNode = this[i].parentNode;\n\n\t\t\t\tif (nodeList.indexOf(thisNode) < 0) {\n\t\t\t\t\tnodeList.push(thisNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tchildren: function(selector) {\n\t\t\tvar nodeList = [],\n\t\t\t\tthisNodeChildren,\n\t\t\t\tthisNode;\n\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tthisNodeChildren = this[i].children;\n\n\t\t\t\tfor ( var j = 0; j < thisNodeChildren.length; j++ ) {\n\t\t\t\t\tthisNode = thisNodeChildren[j];\n\n\t\t\t\t\tif (thisNode && nodeList.indexOf(thisNode) < 0 \n\t\t\t\t\t\t&& (!selector || thisNode.matches(selector)) ) {\n\t\t\t\t\t\tnodeList.push(thisNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t\t\n\t\t\t}\n\n\t\t\treturn new SelectorObject(nodeList);\n\t\t},\n\n\t\tremove: function() {\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tthis[i].parentElement.removeChild(this[i]);\n\t\t\t}\n\n\t\t\treturn new SelectorObject([]);\n\t\t},\n\n\t\taddClass: function(value) {\n\t\t\tvar isString = (value && typeof value === \"string\");\n\t\t\tvar isNotSpace = regexps.nospaces.test(value);\n\n\t\t\tif (isString && isNotSpace) {\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t\tthis[i].classList.add(value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tremoveClass: function(value) {\n\t\t\tvar isString = (value && typeof value === \"string\");\n\t\t\tvar isNotSpace = regexps.nospaces.test(value);\n\t\t\tvar thisElm;\n\n\t\t\tif (isString && isNotSpace) {\n\t\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\t\tthisElm = this[i];\n\t\t\t\t\tif (this.Elm.classList.contains(value)) {\n\t\t\t\t\t\tthis[i].classList.remove(value);\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\thasClass: function(value) {\n\t\t\tvar isString = (value && typeof value === \"string\");\n\t\t\tvar isNotSpace = regexps.nospaces.test(value);\n\n\t\t\tif (!isString || !isNotSpace) { return false; }\n\t\t\t\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tif (this[i].classList.contains(value)) {\n\t\t\t\t\treturn true;\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tbefore: function(content) {\n\t\t\treturn this._html(content, 'beforebegin', content.isSelectorObject);\n\t\t},\n\n\t\tafter: function(content) {\n\t\t\treturn this._html(content, 'afterend', content.isSelectorObject);\n\t\t},\n\n\t\tappend: function(content) {\n\t\t\treturn this._html(content, 'beforeend', content.isSelectorObject);\n\t\t},\n\n\t\tprepend: function(content) {\n\t\t\treturn this._html(content, 'afterbegin', content.isSelectorObject);\n\t\t},\n\n\t\thtml: function(content) {\n\t\t\treturn this._html(content, 'replace', content.isSelectorObject);\n\t\t},\n\n\t\t_html: function(content, position, isSelectorObject) {\n\t\t\tvar contentType = typeof(content),\n\t\t\t\tthisNode, selectorNode;\n\n\t\t\tfor ( var i = 0; i < this.length; i++ ) {\n\t\t\t\tthisNode = this[i];\n\t\t\t\tif (!isSelectorObject) {\n\t\t\t\t\tif (position !== \"replace\") {\n\t\t\t\t\t\tthisNode.insertAdjacentHTML(position, ((content.outerHTML) ? content.outerHTML : content ));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisNode.innerHTML = (content.outerHTML) ? content.outerHTML : content;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor ( var j = 0; j < content.length; j++ ) {\n\t\t\t\t\t\tselectorNode = content[j];\n\t\t\t\t\t\tif (position !== \"replace\") {\n\t\t\t\t\t\t\tthisNode.insertAdjacentHTML(position, selectorNode.outerHTML);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthisNode.innerHTML = selectorNode.outerHTML;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tIty.onDOMReady = function(fn, args, context) {\n\t\targs || (args = []);\n\t\tcontext || (context = this);\n\n\t\tfunc = function() {\n\t\t\tfn.apply(context, args);\n\t\t}\n\n\t\tif (document.readyState != 'loading'){\n\t\t\tfunc();\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', func);\n\t\t}\n\t}\n\n\tvar Application = Ity.Application = function(opts) {\n\t\tthis.views = [];\n\t}\n\n\tApplication.prototype = {\n\t\tgetView: function(id) {\n\t\t\tfor (var view in this.views) {\n\t\t\t\tif (this.views[view].id === id) {\n\t\t\t\t\treturn this.views[view];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\taddView: function(view) {\n\t\t\tif (view instanceof View) { this.views.push(view); }\n\t\t},\n\n\t\tremoveView: function(id) {\n\t\t\tvar thisView;\n\n\t\t\tfor (var i = 0; i < this.views.length; i += 0) {\n\t\t\t\tthisView = this.views[i];\n\t\t\t\tif (thisView.id === id) {\n\t\t\t\t\t this.views.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttrigger: function(evtName, data) {\n\t\t\tvar thisView;\n\n\t\t\tfor (var i = 0; i < this.views.length; i += 1) {\n\t\t\t\tthisView = this.views[i];\n\t\t\t\tthisView.trigger(evtName, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar Model = Ity.Model = function(opts) {\n\t\tvar options = opts || {};\n\n\t\tfor (var option in options) {\n\t\t\tthis[option] = options[option];\n\t\t}\n\n\t\tthis.id || (this.id = \"m\" + Math.floor((Math.random() * 100000) + 1));\n\t\tthis._events || (this._events = {});\n\t\tthis.data || (this.data = {});\n\t\tthis.url || (this.url = \"\");\n\n\t\tthis._init(opts);\n\t}\n\n\tModel.prototype = {\n\t\tonDOMReady: Ity.onDOMReady, //just for easier access within View logic\n\n\t\t_init: function(opts) {\n\t\t\tthis.initialize(opts);\n\t\t},\n\n\t\t_ajax: function(opts) {\n\t\t\tvar model = this;\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\topts || (opts = {});\n\t\t\topts.url || (opts.url = this.url);\n\t\t\topts.type || (opts.type = 'GET');\n\t\t\topts.success || (opts.success = function(resp) { this.data = resp; });\n\t\t\topts.error || (opts.error = function(){});\n\n\t\t\trequest.open(opts.type, opts.url, true);\n\n\t\t\trequest.onload = function() {\n\t\t\t\tif (request.status >= 200 && request.status < 400) {\n\t\t\t\t\tvar resp = JSON.parse(request.responseText);\n\t\t\t\t\topts.success.call(model, resp);\n\t\t\t\t} else {\n\t\t\t\t\topts.error.call(model, request.status);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trequest.onerror = function() {\n\t\t\t\topts.error.call(this);\n\t\t\t};\n\n\t\t\trequest.send();\n\t\t},\n\n\t\tinitialize: function(options) {},\n\n\t\tget: function(attr) {\n\t\t\tif (!attr) {\n\t\t\t\treturn this.data;\n\t\t\t} else {\n\t\t\t\treturn (this.data) ? this.data[attr] : undefined;\n\t\t\t}\n\t\t},\n\n\t\tset: function(attr, value) {\n\n\t\t\tif(typeof(attr) === \"string\") {\n\t\t\t\tthis.data[attr] = value;\n\t\t\t} else if (typeof(attr) === \"object\") {\n\t\t\t\tthis.data = attr;\n\t\t\t}\n\t\t\t\n\t\t\tthis.trigger(\"change\", this.data);\n\t\t},\n\n\t\tunSet: function(attr) {\n\t\t\tif (this.data && this.data[attr]) {\n\t\t\t\tdelete this.data[attr];\n\n\t\t\t\tthis.trigger(\"change\", this.data);\n\t\t\t}\n\t\t},\n\n\t\tclear: function() {\n\t\t\tthis.data = {};\n\t\t\tthis.trigger(\"change\", this.data);\n\t\t},\n\n\t\ton: function(evtName, callback, context) {\n\t\t\tcontext || (context = this);\n\t\t\tthis._events[evtName] = {\n\t\t\t\tcallback: callback,\n\t\t\t\tctx: context\n\t\t\t}\n\t\t},\n\n\t\tsync: function(opts) {\n\t\t\tthis._ajax(opts);\n\t\t},\n\n\t\ttrigger: function(evtName, data) {\n\t\t\tvar evt = this._events[evtName];\n\t\t\tif (evt) {\n\t\t\t\tevt.callback.call(evt.ctx, data);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tvar View = Ity.View = function(opts) {\n\t\tvar options = opts || {};\n\n\t\tfor (var option in options) {\n\t\t\tthis[option] = options[option];\n\t\t}\n\n\t\tthis.id || (this.id = \"v\" + Math.floor((Math.random() * 100000) + 1));\n\t\tif (this.app) { this.app.addView(this); }\n\t\tthis._events || (this._events = {});\n\t\tthis.events || (this.events = {});\n\n\t\tIty.onDOMReady(this._init, opts, this);\n\n\t}\n\n\tView.prototype = {\n\n\t\t_setElement: function(elSelector) {\n\t\t\tif (elSelector.isSelectorObject) {\n\t\t\t\tthis.el = elSelector;\n\t\t\t} else if (elSelector instanceof NodeList) {\n\t\t\t\tthis.el = new SelectorObject(elSelector);\n\t\t\t} else if (typeof(elSelector) === \"string\") {\n\t\t\t\tthis.el = new SelectorObject(window.document.querySelectorAll(elSelector) );\n\t\t\t} else if (elSelector instanceof HTMLElement) {\n\t\t\t\tthis.el = new SelectorObject([HTMLElement]);\n\t\t\t} else {\n\t\t\t\tthrow \"el selector must be of type String, NodeList, HTMLElement or Ity.SelectorObject\";\n\t\t\t}\n\t\t},\n\n\t\t_bindDOMEvents: function(evtObj) {\n\t\t\tvar elmToBind;\n\n\t\t\tfor (evtString in evtObj) {\n\t\t\t\tif (this.el) {\n\n\t\t\t\t\tif (this.el.length > 0 && this.el.isSelectorObject) {\n\t\t\t\t\t\tfor (var i = 0; i < this.el.length; i += 1) {\n\t\t\t\t\t\t\telmToBind = this.el[i].querySelectorAll(evtString);\n\n\t\t\t\t\t\t\tthis._bindNodeElmsEvents(elmToBind, evtObj, evtString);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_bindNodeElmsEvents: function(node, evtObj, evtString) {\n\t\t\tfor (var idx = 0; idx < node.length; idx += 1) {\n\n\t\t\t\tfor (var evt in evtObj[evtString]) {\n\t\t\t\t\tthis._bindElmEvent(node[idx], evt, this[evtObj[evtString][evt]]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_bindElmEvent: function(elm, DOMEvent, callback) {\n\t\t\tvar self = this;\n\n\t\t\telm.addEventListener(DOMEvent, function(e) {\n\t\t\t\tcallback.call(self, e);\n\t\t\t});\n\t\t},\n\n\t\t_init: function(opts) {\n\t\t\tif (this.el) { this._setElement(this.el); }\n\t\t\tthis._bindDOMEvents(this.events);\n\n\t\t\tthis.initialize(opts);\n\t\t},\n\n\t\tinitialize: function(opts) {},\n\n\t\tgetName: function() {\n\t\t\treturn this.name;\n\t\t},\n\n\t\tget: function(attr) {\n\t\t\treturn this[attr];\n\t\t},\n\n\t\tset: function(attr, value) {\n\t\t\tthis[attr] = value;\n\t\t},\n\n\t\ton: function(evtName, callback, context) {\n\t\t\tcontext || (context = this);\n\t\t\tthis._events[evtName] = {\n\t\t\t\tcallback: callback,\n\t\t\t\tctx: context\n\t\t\t}\n\t\t},\n\n\t\tremove: function() {\n\t\t\tthis.el.remove();\n\t\t\tif (this.app) { this.app.removeView(this.id); }\n\t\t},\n\n\t\ttrigger: function(evtName, data) {\n\t\t\tvar evt = this._events[evtName];\n\t\t\tif (evt) { evt.callback.call(evt.ctx, data); }\n\t\t},\n\n\t\tselect: function( selector, ctx ) {\n\t\t\tvar ctx = ctx || this.el;\n\n\t\t\tif (ctx instanceof HTMLElement || ctx instanceof HTMLDocument) {\n\t\t\t\treturn new SelectorObject(ctx.querySelectorAll(selector));\n\t\t\t} else if (ctx.isSelectorObject){\n\t\t\t\treturn ctx.find(selector); //already a SelectorObject\n\t\t\t} else {\n\t\t\t\tthrow \"Context passed to .select() must be an HTMLElement or an Ity.SelectorObject\";\n\t\t\t}\n\n\t\t}\n\t}\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() {\n\t\t\twindow.Ity = Ity;\n\t\t\treturn Ity;\n\t\t});\n\t} else {\n\t\twindow.Ity = Ity;\n\t}\n\n})(window);"],"sourceRoot":"/source/"}